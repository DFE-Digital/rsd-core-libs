name: Pack DfE.CoreLibs.Utilities

on:
  workflow_run:
    workflows: ["Build DfE.CoreLibs.Utilities"]
    types:
      - completed

jobs:
  build-and-package:
    if: ${{ github.event.workflow_run.conclusion == 'success' }}
    uses: ./.github/workflows/nuget-package-template.yml
    with:
      project_name: DfE.CoreLibs.Utilities
      project_path: src/DfE.CoreLibs.Utilities
      nuget_package_name: DfE.CoreLibs.Utilities
      custom_suffix: ${{ github.event.workflow_run.event == 'pull_request' && '-beta' || '' }}